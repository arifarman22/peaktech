module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},72850,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(78207),e=a.i(72131);function f(){let{user:a,logout:f}=(0,d.useAuth)(),[g,h]=(0,e.useState)(!1);return(0,b.jsx)("nav",{className:"bg-white shadow-md sticky top-0 z-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,b.jsxs)(c.default,{href:"/",className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-blue-600 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white font-bold text-xl",children:"P"})}),(0,b.jsx)("span",{className:"text-xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"PeakTech"})]}),(0,b.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,b.jsx)(c.default,{href:"/shop",className:"text-gray-700 hover:text-purple-600 transition",children:"Shop"}),a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.default,{href:"/orders",className:"text-gray-700 hover:text-purple-600 transition",children:"Orders"}),(0,b.jsx)(c.default,{href:"/cart",className:"text-gray-700 hover:text-purple-600 transition",children:"Cart"}),"admin"===a.role&&(0,b.jsx)(c.default,{href:"/admin",className:"text-gray-700 hover:text-purple-600 transition",children:"Admin"}),(0,b.jsx)("button",{onClick:()=>f(),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",children:"Logout"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.default,{href:"/login",className:"px-4 py-2 text-purple-600 hover:text-purple-700 transition",children:"Login"}),(0,b.jsx)(c.default,{href:"/register",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition",children:"Sign Up"})]})]}),(0,b.jsx)("button",{className:"md:hidden p-2",onClick:()=>h(!g),children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),g&&(0,b.jsxs)("div",{className:"md:hidden py-4 border-t",children:[(0,b.jsx)(c.default,{href:"/shop",className:"block py-2 text-gray-700 hover:text-purple-600",children:"Shop"}),a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.default,{href:"/orders",className:"block py-2 text-gray-700 hover:text-purple-600",children:"Orders"}),(0,b.jsx)(c.default,{href:"/cart",className:"block py-2 text-gray-700 hover:text-purple-600",children:"Cart"}),"admin"===a.role&&(0,b.jsx)(c.default,{href:"/admin",className:"block py-2 text-gray-700 hover:text-purple-600",children:"Admin"}),(0,b.jsx)("button",{onClick:()=>f(),className:"mt-2 w-full text-left py-2 text-gray-700 hover:text-purple-600",children:"Logout"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.default,{href:"/login",className:"block py-2 text-gray-700 hover:text-purple-600",children:"Login"}),(0,b.jsx)(c.default,{href:"/register",className:"block py-2 text-gray-700 hover:text-purple-600",children:"Sign Up"})]})]})]})})}a.s(["default",()=>f])},52694,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(78207),e=a.i(72850),f=a.i(50944),g=a.i(6704);function h(){let{user:a,loading:h}=(0,d.useAuth)(),i=(0,f.useRouter)(),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(0),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)({shippingAddress:{fullName:"",addressLine1:"",addressLine2:"",city:"",state:"",postalCode:"",country:"USA",phone:""},paymentMethod:"Credit Card",notes:""});(0,c.useEffect)(()=>{h||a?!h&&a&&t():i.push("/login?redirect=/checkout")},[a,h]);let t=async()=>{try{let a=await fetch("/api/cart"),b=await a.json();if(b.success){if(0===b.data.items.length)return void i.push("/cart");k(b.data.items),m(b.data.total)}}catch(a){g.default.error("Failed to load cart")}finally{o(!1)}},u=a=>{let{name:b,value:c}=a.target;if(b.includes(".")){let[a,d]=b.split(".");s(b=>({...b,[a]:{...b[a],[d]:c}}))}else s(a=>({...a,[b]:c}))},v=async a=>{a.preventDefault(),q(!0);try{let a=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),b=await a.json();b.success?(g.default.success("Order placed successfully!"),i.push(`/orders/${b.data._id||""}`)):g.default.error(b.error||"Failed to place order")}catch(a){g.default.error("Something went wrong")}finally{q(!1)}};if(n||h)return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(e.default,{}),(0,b.jsx)("div",{className:"p-20 text-center",children:"Preparing checkout..."})]});let w=.1*l,x=l>100?0:10,y=l+w+x;return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(e.default,{}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,b.jsx)("h1",{className:"text-4xl font-black text-gray-900 mb-10",children:"Checkout"}),(0,b.jsxs)("form",{onSubmit:v,className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-sm border border-gray-100",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-8 h-8 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center text-base",children:"1"}),"Shipping Address"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Full Name"}),(0,b.jsx)("input",{type:"text",name:"shippingAddress.fullName",value:r.shippingAddress.fullName,onChange:u,required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-600 outline-none transition"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Address Line 1"}),(0,b.jsx)("input",{type:"text",name:"shippingAddress.addressLine1",value:r.shippingAddress.addressLine1,onChange:u,required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-600 outline-none transition"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Address Line 2 (Optional)"}),(0,b.jsx)("input",{type:"text",name:"shippingAddress.addressLine2",value:r.shippingAddress.addressLine2,onChange:u,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-600 outline-none transition"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"City"}),(0,b.jsx)("input",{type:"text",name:"shippingAddress.city",value:r.shippingAddress.city,onChange:u,required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-600 outline-none transition"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"State / Province"}),(0,b.jsx)("input",{type:"text",name:"shippingAddress.state",value:r.shippingAddress.state,onChange:u,required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-600 outline-none transition"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Postal Code"}),(0,b.jsx)("input",{type:"text",name:"shippingAddress.postalCode",value:r.shippingAddress.postalCode,onChange:u,required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-600 outline-none transition"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Phone Number"}),(0,b.jsx)("input",{type:"tel",name:"shippingAddress.phone",value:r.shippingAddress.phone,onChange:u,required:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-600 outline-none transition"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-sm border border-gray-100",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center text-base",children:"2"}),"Payment Method"]}),(0,b.jsx)("div",{className:"space-y-4",children:["Credit Card","PayPal","Bank Transfer","Cash on Delivery"].map(a=>(0,b.jsxs)("label",{className:`flex items-center p-4 rounded-2xl border-2 cursor-pointer transition ${r.paymentMethod===a?"border-purple-600 bg-purple-50":"border-gray-100 hover:border-gray-200"}`,children:[(0,b.jsx)("input",{type:"radio",name:"paymentMethod",value:a,checked:r.paymentMethod===a,onChange:u,className:"w-5 h-5 text-purple-600 focus:ring-purple-500"}),(0,b.jsx)("span",{className:"ml-4 font-bold text-gray-900",children:a})]},a))})]})]}),(0,b.jsx)("div",{className:"lg:sticky lg:top-24 h-fit",children:(0,b.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-xl border border-purple-50",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Review your order"}),(0,b.jsx)("div",{className:"max-h-[300px] overflow-y-auto mb-8 pr-2 space-y-4",children:j.map(a=>(0,b.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-50 last:border-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gray-50 rounded-lg flex items-center justify-center p-1",children:(0,b.jsx)("span",{className:"text-xl",children:"ðŸ“¦"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-gray-900 leading-tight",children:a.product.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Qty: ",a.quantity]})]})]}),(0,b.jsxs)("p",{className:"font-bold text-gray-900",children:["$",(a.price*a.quantity).toFixed(2)]})]},a.product._id))}),(0,b.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,b.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,b.jsx)("span",{children:"Subtotal"}),(0,b.jsxs)("span",{className:"font-bold",children:["$",l.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,b.jsx)("span",{children:"Estimated Tax"}),(0,b.jsxs)("span",{className:"font-bold",children:["$",w.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,b.jsx)("span",{children:"Shipping"}),(0,b.jsx)("span",{className:"font-bold text-green-600",children:0===x?"FREE":`$${x.toFixed(2)}`})]}),(0,b.jsxs)("div",{className:"border-t border-gray-100 pt-6 flex justify-between text-2xl font-black text-gray-900",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{className:"text-purple-600",children:["$",y.toFixed(2)]})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Order Notes (Optional)"}),(0,b.jsx)("textarea",{name:"notes",value:r.notes,onChange:u,rows:3,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-purple-600 outline-none transition",placeholder:"Add any special instructions..."})]}),(0,b.jsx)("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-5 rounded-2xl font-black text-xl hover:shadow-2xl hover:scale-[1.02] transition active:scale-[0.98] disabled:opacity-50",children:p?"Processing Order...":"Place Order"}),(0,b.jsx)("p",{className:"mt-6 text-center text-xs text-gray-400",children:"By placing your order, you agree to PeakTech's Privacy Policy and Terms of Service."})]})})]})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=_105eb719._.js.map